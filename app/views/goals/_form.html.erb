<% action = (goal.persisted? ? edit_goal_url(goal) : goals_url) %>
<% method = (goal.persisted? ? "PATCH" : "POST") %>
<% submit_button = (goal.persisted? ? "Edit goal" : "Create new goal!") %>

<form action="<%= action %>" method="POST">
    <input 
        type="hidden"
        name="authenticity_token"
        value="<%= form_authenticity_token %>">
    <input 
        type="hidden"
        name="_method"
        value="<%= method %>">
    <label for="goal_title">Title</label>
    <input 
        type="text"
        name="goal[title]"
        id="goal_title"
        value="<%= goal.title %>">
    <br><br>
    <label for="goal_details">Details</label>
    <br>
    <textarea name="goal[details]" id="goal_details" 
    cols="30" rows="10"></textarea>
    <br><br>
    <label for="goal_private">Private?
        <input type="checkbox" name=goal[private]
            <%= 'checked= "true"' if goal.private %>>
    </label>
    <label for="goal_completed">Completed?
        <input type="checkbox" name="goal[completed]"
            <%= 'checked= "true"' if goal.completed %>>
    </label>
    <input type="submit" value="<%= submit_button %>">
</form>